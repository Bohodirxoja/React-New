{"ast":null,"code":"import axios from \"axios\";\nimport { API_PATH, TOKEN_NAME } from \"../../tools/constants\";\nimport { toast } from \"react-toastify\";\nimport { LOGIN } from \"../actionTypes/authType\";\nexport function loginUser(data, history) {\n  return function (dispatch) {\n    dispatch({\n      type: LOGIN\n    });\n    axios.post(API_PATH + \"auth/login\", data).then(res => {\n      localStorage.setItem(TOKEN_NAME, res.data.tokenType + \" \" + res.data.accessToken);\n      dispatch({\n        type: LOGIN\n      });\n      history.push(\"/admin\");\n    }).catch(error => {\n      console.log(error);\n      toast.error(\"Xatolik!\");\n      dispatch({\n        type: LOGIN\n      });\n    });\n  };\n}","map":{"version":3,"sources":["E:/ishlar/app-dostlikdon-new/src/redux/actions/authAction.js"],"names":["axios","API_PATH","TOKEN_NAME","toast","LOGIN","loginUser","data","history","dispatch","type","post","then","res","localStorage","setItem","tokenType","accessToken","push","catch","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,uBAAnC;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,SAAQC,KAAR,QAAoB,yBAApB;AAGA,OAAO,SAASC,SAAT,CAAmBC,IAAnB,EAAyBC,OAAzB,EAAkC;AACtC,SAAO,UAAUC,QAAV,EAAmB;AACtBA,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAEL;AADD,KAAD,CAAR;AAGAJ,IAAAA,KAAK,CAACU,IAAN,CAAWT,QAAQ,GAAG,YAAtB,EAAoCK,IAApC,EACKK,IADL,CACWC,GAAD,IAAS;AACXC,MAAAA,YAAY,CAACC,OAAb,CAAqBZ,UAArB,EAAiCU,GAAG,CAACN,IAAJ,CAASS,SAAT,GAAqB,GAArB,GAA2BH,GAAG,CAACN,IAAJ,CAASU,WAArE;AACAR,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAEL;AAAP,OAAD,CAAR;AACAG,MAAAA,OAAO,CAACU,IAAR,CAAa,QAAb;AACH,KALL,EAMKC,KANL,CAMYC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAhB,MAAAA,KAAK,CAACgB,KAAN,CAAY,UAAZ;AACAX,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAEL;AAAP,OAAD,CAAR;AACH,KAVL;AAWH,GAfD;AAiBF","sourcesContent":["import axios from \"axios\";\r\nimport {API_PATH, TOKEN_NAME} from \"../../tools/constants\";\r\nimport {toast} from \"react-toastify\";\r\nimport {LOGIN} from \"../actionTypes/authType\";\r\n\r\n\r\nexport function loginUser(data, history) {\r\n   return function (dispatch){\r\n       dispatch({\r\n           type: LOGIN\r\n       })\r\n       axios.post(API_PATH + \"auth/login\", data)\r\n           .then((res) => {\r\n               localStorage.setItem(TOKEN_NAME, res.data.tokenType + \" \" + res.data.accessToken);\r\n               dispatch({type: LOGIN});\r\n               history.push(\"/admin\");\r\n           })\r\n           .catch((error) => {\r\n               console.log(error);\r\n               toast.error(\"Xatolik!\");\r\n               dispatch({type: LOGIN});\r\n           })\r\n   }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}